<!DOCTYPE html>
<html lang="en">
<head>
    
    <!-- Meta Tag -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO -->
    <meta name="description" content="150 words">
    <meta name="author" content="uipasta">
    <meta name="url" content="http://www.yourdomainname.com">
    <meta name="copyright" content="company name">
    <meta name="robots" content="index,follow">
    
    
    <title>Yazılım & Güvenlik</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="../images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="144x144" type="image/x-icon" href="../images/favicon/apple-touch-icon.png">
    
    <!-- All CSS Plugins -->
    <link rel="stylesheet" type="text/css" href="../css/plugin.css">
    
    <!-- Main CSS Stylesheet -->
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    
    <!-- Google Web Fonts  -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,300,500,600,700">
    
    <!-- Syntax Highlighter  -->
    <link rel="stylesheet" type="text/css" href="../css/syntax/shCore.css">
    <link rel="stylesheet" type="text/css" href="../css/syntax/shThemeDefault.css">
    
    
    <!-- HTML5 shiv and Respond.js support IE8 or Older for HTML5 elements and media queries -->
    <!--[if lt IE 9]>
	   <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	   <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    

  </head>
<body>

	
     
	 <!-- Preloader Start -->
     <div class="preloader">
	   <div class="rounder"></div>
      </div>
     <!-- Preloader End -->
    <div id="main">
        <div class="container">
            <div class="row">
            	
                <!-- About Me (Left Sidebar) Start -->
                <div class="col-md-3 left-bar">
                   <div class="about-absolute">

                     <div class="my-pic">
                        <img style="height: 400px;" src="../images/pic/IMG_3830.JPG" alt="">
                        <a href="javascript:void(0)" class="collapsed" data-target="#menu" data-toggle="collapse"><i class="icon-menu menu"></i></a>
                         <div id="menu" class="collapse">
                           <ul class="menu-link">
                               <li><a href="../index.html"><h4 class="yazı-boyutu">Ana Sayfa</h4></a></li>
                               <li><a href="../about.html"><h4 class="yazı-boyutu">Hakkımda</h4></a></li>
                            </ul>
                         </div>
                        </div>
                     <div class="my-detail">

                        <div class="white-spacing">
                            <h1>Erdem YILDIZ</h1>
                            <h5>Siber Güvenlik Araştırmacısı</h5>
                            <h5>Python Geliştiricisi</h5>
                            <h5>Linux Hayranı</h5>
                        </div>

                       <ul class="social-icon">
                         <li><a href="https://www.facebook.com/profile.php?id=100001860038071" target="_blank" class="facebook"><i class="fa fa-facebook"></i></a></li>
                         <li><a href="https://www.youtube.com/channel/UCu5NyREC0zwn76fnj7UlevA/featured?disable_polymer=1" target="_blank" class="youtube"><i class="fa fa-youtube"></i></a></li>
                         <li><a href="https://www.linkedin.com/in/erdemyildiz/" target="_blank" class="linkedin"><i class="fa fa-linkedin"></i></a></li>
                         <li><a href="https://github.com/ErdemStar" target="_blank" class="github"><i class="fa fa-github"></i></a></li>
                        </ul>

                    </div>
                  </div>
                </div>
                <!-- About Me (Left Sidebar) End -->

                <!-- Blog Post (Right Sidebar) Start -->
                <div class="col-md-9">
                    <div class="col-md-12 page-body">
                    	<div class="row">
                            
                            <div class="sub-title">
                                <a href="../index.html" title="Go to Home Page"><i class="fa fa-arrow-circle-left"></i><h2>Ana Sayfa'ya geri dön</h2></a>
                             </div>
                            
                            <div class="col-md-12 content-page">
                              <div class="col-md-12 blog-post">

                                <!-- Post Headline Start -->
                                <div class="post-title">
                                    <h1>Python ile Local Ağ'da Açık Makineleri Keşfetmek</h1>
                                   </div>
                                   <!-- Post Headline End -->
                                    
                                    
                                <!-- Post Detail Start -->
                                <div class="post-info">
                                    <span>Temmuz 19, 2018 / by <a href="#" target="_blank">Erdem Yıldız</a></span>
                                </div>
                                <!-- Post Detail End -->
                                <!-- İçerik -->
                                <div class="yazı-kısmı">
                                    <p>
                                        Merhaba arkadaşlar bugün python ile yazmış olduğum script'te Active yada Passive seçeneğine göre
                                        local ağınızda olan makinaları bulabilirsiniz.
                                        <span style="font-weight: bold">Haydi bir giriş yapalım...</span>
                                    </p>





                                    <p>
                                        <span style="margin-left: 20px">
                                            Arkadaşlar bu scripteki amacım şuydu.Geçtiğimiz günlerde bir blog yazısı okudum.Bu yazı'da
                                            local ağda hiçbir cihaz ile iletişime geçmeden ağdaki açık makineleri bulmak için bir script
                                            kullanılmıştı.Bu script kullanıcıya Active ve Passive olarak 2 adet özellik sunuyor.Ben bu
                                            script'in nasıl çalıştığını anladıktan sonra kendim yazmak istedim.
                                        </span>
                                    </p>


                                    <ul>
                                                <li class="Text-Style">
                                                    <b>Active Saldırı</b>:
                                                    Bu saldırı türünde siz bağlı bulunduğunuz ağ'ın size verdiği ip adresini script'e parametre olarak
                                                    vererek script arka planda ICMP packet'leri üretip hangi host'ların açık olduğunu sizlere kısa süre sonra
                                                    gösterecektir.Bu yöntemin adından'da anlaşılabileceği gibi local ağdaki diğer cihaz'larla temas kurduğu için
                                                    Active adını almıştır.

                                                </li>

                                                <li class="Text-Style">
                                                    <b>Passive Saldırı</b>:
                                                    Bu saldırı türün'de ise ağa dahil olduğunuz cihazın adını (Wifi , Ethernet vs.) parametre olarak veriyorsunuz.
                                                    Bu işlemden sonra sizin NIC (Network Interface Card)'iniz "Promisc" mod'a çevirilerek ağ'da size gelen packet'ler
                                                    bilgisayarınız tarafından drop'lanmadan kabul edilir hale getiriliyor.Daha sonra bu packet'i gönderin kişinin kaynak bilgisi
                                                    alınıp sizlere gösterilecektir.Böylece local ağınızdaki diğer makineler'le haberleşemeden hangi ip adreslerinin ayakta olduğunu
                                                    öğrenebiliriz.
                                                </li>

                                            </ul>

                                    <div class="post-quote margin-top-40 margin-bottom-40">
                                        <blockquote>
                                            Passive mod Active moddan daha yavaştır.
                                        </blockquote>
                                    </div>



                                    <!-- Post Coding  Start -->
                                    <div class="margin-top-40 margin-bottom-40">
                                        <pre class="brush: js">
                                        # DDOS.py
                                        # -*- coding: utf-8 -*-

                                        import subprocess
                                        import os
                                        import sys
                                        import time
                                        import socket
                                        import struct
                                        import binascii
                                        import threading

                                        class Passive():
                                            def __init__(self):
                                                    print "[!] Passive Attack"
                                                    card = raw_input("[*]	Enter using network device name :")
                                                    self.ONcommand = "sudo ip link set {} promisc on".format(card)
                                                    self.OFcommand = "sudo ip link set {} promisc off".format(card)
                                                    self.arr = []
                                            def ON(self):
                                                    time.sleep(2)
                                                    os.system(self.ONcommand)

                                            def OFF(self):
                                                    time.sleep(5)
                                                    os.system(self.OFcommand)

                                            def Capture(self):
                                                try:
                                                    self.s = socket.socket( socket.AF_PACKET , socket.SOCK_RAW , socket.ntohs(0x0003))
                                                except socket.error:
                                                    print "Socket was created"

                                                    packet = self.s.recvfrom(65565)

                                                    ethernet_header = packet[0][0:14]
                                                    ethernet_detailed = struct.unpack("!6s6s2s", ethernet_header)

                                                    arp_header = packet[0][14:42]
                                                    arp_detailed = struct.unpack("2s2s1s1s2s6s4s6s4s", arp_header)

                                                    ethertype = ethernet_detailed[2]
                                                    mac = binascii.hexlify(arp_detailed[5])
                                                    ip  = socket.inet_ntoa(arp_detailed[6])
                                                if ethertype == '\x08\x06' and ip not in self.arr:
                                                        print "*************************************************\n"
                                                        print "Captured ARP Broadcast | This host is alive your network"
                                                        print "Source MAC:      ", mac
                                                        print "Source IP:       ", ip + "\n"
                                                        print "*************************************************\n"
                                                        self.arr.append(ip)
                                                time.sleep(2)

                                            def Run(self):
                                                self.ON()

                                                while True:
                                                    try:
                                                        self.Capture()
                                                    except KeyboardInterrupt:
                                                        print "[*]	Exiting"
                                                        break

                                                self.OFF()

                                        class Active():
                                            def __init__(self):
                                                print "[!] Active Attack"
                                                tmp  = raw_input("[*]	Enter your ip adress :")
                                                print "-"*42
                                                self.IP = tmp.split(".")[0] + "." + tmp.split(".")[1] + "." + tmp.split(".")[2] + "."

                                            def Run(self):
                                                for i in range(1,6):
                                                    threading.Thread(target=self.AttackStart , args=( (i-1)*51 , i*51)).start()


                                            def AttackStart(self,b,s):
                                                for i in range(b,s):
                                                    if i != 0:
                                                        tmpIP = self.IP + str(i)
                                                        tmpCommand = "ping -c 1 {} -W 1".format(tmpIP)
                                                        proc = subprocess.Popen(tmpCommand, stdout=subprocess.PIPE, shell=True )
                                                        (out , err) = proc.communicate()
                                                        if "bytes from" in out:
                                                            print tmpIP ," is alive"




                                        if __name__ == "__main__":
                                                print "Welcome my Net-discover script"
                                                print "Select attack type"
                                                print "[*]      Active  --> 1"
                                                print "[*]      Passive --> 2"
                                                select = raw_input("#>")
                                                os.system("clear")
                                                if select == "2":
                                                    P = Passive()
                                                    P.Run()
                                                if select == "1":
                                                    A = Active()
                                                A.Run()






                                        </pre>
                                    </div>


                                    <p style="margin-bottom: 2%">
                                        Aşağıdaki video'da Passive saldırıda aynı ağda olan sanal makinerle local ağımada kullanılmayan makinelere ping attım.Bunun
                                        sebebi şudur ki.Local ağ'da bir host başka bir host ile haberleşecek'se ve onun mac adresini bilmiyorsa bir Arp Broadcast packeti
                                        üreterek onu ağa bırakı ve bu packet tüm network boyunca her bir host'a gider.Benim "Passive" modda çalışan script'imde makinama
                                        gelecek olan Arp Broadcast'leri yakalayacağını için böyle birşey yaptım.
                                    </p>


                                    <!-- Video kısmı-->
                                    <div class="video">
                                        <iframe width="100%" height="315" src="https://www.youtube.com/embed/ZhVqkw_JVNI"" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

                                    </div>


                                    <!-- Tavsiye-->
                                    <div class="tavsiye" style="margin-top: 3%">
                                      <p>
                                          <span style="margin-left: 20px">
                                              Yukarıda paylaşmış olduğum kodda bir sıkıntı yada yapılabilecek iyileştirmeler için bana
                                          ulaşabilirseniz çok sevinirim.Okuduğunuz için çok teşekkür ederim.Esen kalın :)

                                          </span>

                                      </p>
                                    </div>

                                 </div>
                                    <!-- İçerik -->
                                </div>    
                             </div>
                              
                         </div>
                         

                           
                         </div>
                     
                     
                       
                       <!-- Footer Start -->
                       <div class="col-md-12 page-body margin-top-50 footer">
                          <footer>
                          <ul class="menu-link">
                               <li><a href="../index.html"><h4>Ana Sayfa</h4></a></li>
                               <li><a href="../about.html"><h4>Hakkımda</h4></a></li>
                            </ul>
                          <div class="social-menu">
                              <ul class="social-icon">
                                 <li><a href="https://www.facebook.com/profile.php?id=100001860038071" target="_blank" class="facebook"><i class="fa fa-facebook"></i></a></li>
                                 <li><a href="https://www.youtube.com/channel/UCu5NyREC0zwn76fnj7UlevA/featured?disable_polymer=1" target="_blank" class="youtube"><i class="fa fa-youtube"></i></a></li>
                                 <li><a href="https://www.linkedin.com/in/erdemyildiz/" target="_blank" class="linkedin"><i class="fa fa-linkedin"></i></a></li>
                                 <li><a href="https://github.com/ErdemStar" target="_blank" class="github"><i class="fa fa-github"></i></a></li>
                             </ul>
                          </div>
                         </footer>
                       </div>
                       <!-- Footer End -->


                  </div>
                <!-- Blog Post (Right Sidebar) End -->
                
            </div><!-- row-->
         </div> <!-- container-->
      </div> <!-- main-->
    

    <!-- Back to Top Start -->
    <a href="#" class="scroll-to-top"><i class="fa fa-long-arrow-up"></i></a>
    <!-- Back to Top End -->

    <!-- All Javascript Plugins  -->
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/plugin.js"></script>
    
    <!-- Main Javascript File  -->
    <script type="text/javascript" src="../js/scripts.js"></script>
    
    <!-- Syntax Highlighter Javascript File  -->
    <script type="text/javascript" src="../js/syntax/shCore.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushCss.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushJScript.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushPerl.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushPhp.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushPlain.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushPython.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushRuby.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushSql.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushVb.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushXml.js"></script>
    
	<!-- Syntax Highlighter Call Function -->
	<script type="text/javascript">
		SyntaxHighlighter.config.clipboardSwf = 'js/syntax/clipboard.swf';
		SyntaxHighlighter.all();
	</script>

    
   </body>
</html>
